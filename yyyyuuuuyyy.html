<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Bitcoin Price Predictor</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js"></script>
    <style>
        body {
            background-color: #121212;
            color: #ffffff;
            font-family: Arial, sans-serif;
        }
        .profile-section {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            display: flex;
            align-items: center;
            gap: 20px;
        }
        .loading-spinner {
            display: none;
            justify-content: center;
            align-items: center;
            height: 100%;
        }
        .loading-spinner.active {
            display: flex;
        }
        .dark-mode-toggle {
            margin: 20px;
            cursor: pointer;
            background: rgba(255, 255, 255, 0.1);
            border: none;
            padding: 10px;
            border-radius: 5px;
            color: white;
        }
        .alert-banner {
            background: rgba(255, 215, 0, 0.1);
            border-left: 4px solid #FFD700;
            padding: 15px;
            margin: 20px 0;
            border-radius: 0 10px 10px 0;
        }
        .price-alert {
            margin: 20px 0;
        }
        .price-alert input {
            width: 100px;
            margin-right: 10px;
        }
    </style>
</head>
<body>
    <!-- Dark Mode Toggle -->
    <button class="dark-mode-toggle" id="darkModeToggle">
        <i class="fas fa-moon"></i> Toggle Dark Mode
    </button>

    <!-- Login Container -->
    <div class="login-container active" id="loginContainer">
        <h1><i class="fas fa-bitcoin"></i> Bitcoin Predictor</h1>
        <form id="loginForm">
            <input type="text" id="username" placeholder="Username" required>
            <input type="password" id="password" placeholder="Password" required>
            <button type="submit"><i class="fas fa-sign-in-alt"></i> Login</button>
            <div style="margin-top: 15px; color: #aaa;">
                Demo credentials: admin / password
            </div>
        </form>
    </div>

    <!-- Main Content -->
    <div class="main-content" id="mainContent">
        <!-- Header Section -->
        <div class="profile-section">
            <div class="profile-avatar">
                <i class="fas fa-user"></i>
            </div>
            <div>
                <h2>Welcome, <span id="userDisplay">User  </span></h2>
                <p>Last login: <span id="lastLogin">Just now</span></p>
            </div>
            <button class="logout-btn" id="logoutBtn">
                <i class="fas fa-sign-out-alt"></i> Logout
            </button>
        </div>

        <!-- Alert Banner -->
        <div class="alert-banner">
            <i class="fas fa-info-circle"></i>
            Market data is updated every 30 seconds. Predictions are based on historical patterns.
        </div>

        <!-- Loading Spinner -->
        <div class="loading-spinner" id="loadingSpinner">
            <i class="fas fa-spinner fa-spin"></i> Loading...
        </div>

        <!-- Price Alert Section -->
        <div class="price-alert">
            <h3>Set Price Alert</h3>
            <input type="number" id="alertPrice" placeholder="Alert Price" required>
            <button id="setAlertBtn">Set Alert</button>
        </div>

        <!-- News Ticker -->
        <div class="news-ticker">
            <div class="news-ticker-content" id="newsTicker">
                Loading latest crypto news...
            </div>
        </div>

        <!-- Tab Navigation -->
        <div class="tab-container">
            <div class="tab-buttons">
                <button class="tab-button active" data-tab="overview">Overview</button>
                <button class="tab-button" data-tab="prediction">Prediction</button>
                <button class="tab-button" data-tab="analysis">Analysis</button>
            </div>

            <!-- Overview Tab -->
            <div class="tab-content active" id="overview">
                <!-- Market Overview Dashboard -->
                <div class="dashboard-grid">
                    <div class="stat-card">
                        <h3>Current Price</h3>
                        <div id="livePrice">Loading...</div>
                    </div>
                    <div class="stat-card">
                        <h3>24h Change</h3>
                        <div id="priceChange">Loading...</div>
                    </div>
                    <div class="stat-card">
                        <h3>Market Sentiment</h3>
                        <div class="sentiment-indicator">
                            <div class="sentiment-dot"></div>
                            <div class="sentiment-dot"></div>
                            <div class="sentiment-dot"></div>
                            <div class="sentiment-dot"></div>
                            <div class="sentiment-dot"></div>
                        </div>
                    </div>
                </div>

                <!-- Market Indicators -->
                <div class="market-indicators">
                    <div class="indicator-card">
                        <h4>Volume (24h)</h4>
                        <div id="volume">Loading...</div>
                    </div>
                    <div class="indicator-card">
                        <h4>Market Cap</h4>
                        <div id="marketCap">Loading...</div>
                    </div>
                    <div class="indicator-card">
                        <h4>Dominance</h4>
                        <div id="dominance">Loading...</div>
                    </div>
                </div>

                <!-- Price Chart -->
                <div class="container">
                    <h3>Price History</h3>
                    <div class="price-chart">
                        <canvas id="priceChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Prediction Tab -->
            <div class="tab-content" id="prediction">
                <div class="container">
                    <h1>Price Prediction Model</h1>
                    <form id="predictForm">
                        <div class="tooltip" data-tooltip="Difference between opening and closing prices">
                            <input type="number" id="open_close" name="open_close" placeholder="Open-Close Difference" required step="0.01">
                        </div>
                        <div class="tooltip" data-tooltip="Difference between lowest and highest prices">
                            <input type="number" id="low_high" name="low_high" placeholder="Low-High Difference" required step="0.01">
                        </div>
                        <div class="tooltip" data-tooltip="Is it the end of a financial quarter?">
                            <input type="number" id="is_quarter_end" name="is_quarter_end" placeholder="Is Quarter End (1 for Yes, 0 for No)" required min="0" max="1">
                        </div>
                        <button type="submit"><i class="fas fa-chart-line"></i> Generate Prediction</button>
                    </form>
                    <div class="result" id="result"></div>
                </div>
            </div>

            <!-- Analysis Tab -->
            <div class="tab-content" id="analysis">
                <div class="container">
                    <h3>Technical Analysis</h3>
                    <div class="market-indicators">
                        <div class="indicator-card">
                            <h4>RSI (14)</h4>
                            <div id="rsi">Calculating...</div>
                        </div>
                        <div class="indicator-card">
                            <h4>MACD</h4>
                            <div id="macd">Calculating...</div>
                        </div>
                        <div class="indicator-card">
                            <h4>Moving Average (50)</h4>
                            <div id="ma50">Calculating...</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Exchange Links -->
        <div class="container">
            <h3>Popular Exchanges</h3>
            <div class="websites">
                <div class="website-card">
                    <img src="/api/placeholder/60/60" alt="Binance">
                    <a href="https://www.binance.com/" target="_blank">Binance</a>
                </div>
                <div class="website-card">
                    <img src="/api/placeholder/60/60" alt="Coinbase">
                    <a href="https://www.coinbase.com/" target="_blank">Coinbase</a>
                </div>
                <div class="website-card">
                    <img src="/api/placeholder/60/60" alt="Kraken">
                    <a href="https://www.kraken.com/" target="_blank">Kraken</a>
                </div>
                <div class="website-card">
                    <img src="/api/placeholder/60/60" alt="Blockchain">
                    <a href="https://www.blockchain.com/" target="_blank">Blockchain</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Notification Container -->
    <div class="notification" id="notification"></div>

    <script>
        // Dark Mode Toggle
        const darkModeToggle = document.getElementById('darkModeToggle');
        darkModeToggle.addEventListener('click', () => {
            document.body.classList.toggle('dark-mode');
            darkModeToggle.textContent = document.body.classList.contains('dark-mode') ? 'Toggle Light Mode' : 'Toggle Dark Mode';
        });

        // Add tab switching functionality
        document.querySelectorAll('.tab-button').forEach(button => {
            button.addEventListener('click', () => {
                // Remove active class from all buttons and contents
                document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
                
                // Add active class to clicked button and corresponding content
                button.classList.add('active');
                document.getElementById(button.dataset.tab).classList.add('active');
            });
        });

        // Show loading spinner
        function showLoading() {
            document.getElementById('loadingSpinner').classList.add('active');
        }

        // Hide loading spinner
        function hideLoading() {
            document.getElementById('loadingSpinner').classList.remove('active');
        }

        // Fetch live price from an API
        async function fetchLivePrice() {
            showLoading();
            try {
                const response = await fetch('https://api.coindesk.com/v1/bpi/currentprice/BTC.json');
                const data = await response.json();
                document.getElementById('livePrice').textContent = `$${data.bpi.USD.rate}`;
                document.getElementById('priceChange').textContent = `Change: ${data.bpi.USD.rate_float > 0 ? '+' : ''}${(Math.random() * 10 - 5).toFixed(2)}%`;
            } catch (error) {
                console.error('Error fetching live price:', error);
            } finally {
                hideLoading();
            }
        }

        // Fetch news from an API
        async function fetchNews() {
            try {
                const response = await fetch('https://cryptonews-api.com/api/v1/category?section=general&items=5&token=YOUR_API_KEY');
                const data = await response.json();
                const newsTicker = document.getElementById('newsTicker');
                newsTicker.innerHTML = data.data.map(news => `<div>${news.title} - <a href="${news.link}" target="_blank">Read more</a></div>`).join('');
            } catch (error) {
                console.error('Error fetching news:', error);
            }
        }

        // Set price alert
        document.getElementById('setAlertBtn').addEventListener('click', () => {
            const alertPrice = parseFloat(document.getElementById('alertPrice').value);
            if (isNaN(alertPrice)) {
                alert('Please enter a valid price.');
                return;
            }
            alert(`Price alert set for $${alertPrice}`);
            // Here you would implement the logic to check the price periodically and notify the user
        });

        // Add mock data for technical indicators
        function updateTechnicalIndicators() {
            document.getElementById('rsi').textContent = `${(Math.random() * 40 + 30).toFixed(2)}`;
            document.getElementById('macd').textContent = `${(Math.random() - 0.5).toFixed(3)}`;
            document.getElementById('ma50').textContent = `$${(45000 + Math.random() * 1000).toFixed(2)}`;
            
            document.getElementById('volume').textContent = `$${(Math.random() * 50 + 20).toFixed(2)}B`;
            document.getElementById('marketCap').textContent = `$${(Math.random() * 200 + 800).toFixed(2)}B`;
            document.getElementById('dominance').textContent = `${(Math.random() * 10 + 45).toFixed(2)}%`;
        }

        // Update technical indicators periodically
        setInterval(updateTechnicalIndicators, 30000);
        
        // Initialize everything
        function initializeDashboard() {
            showLoading();
            fetchLivePrice();
            fetchNews();
            updateTechnicalIndicators();
            
            // Set up periodic updates
            setInterval(fetchLivePrice, 30000);
            setInterval(fetchNews, 60000);
            
            // Update user display
            document.getElementById('userDisplay').textContent = 'Admin';
            document.getElementById('lastLogin').textContent = new Date().toLocaleString();
            hideLoading();
        }

        // Call initializeDashboard on page load
        window.onload = initializeDashboard;
    </script>
</body>
</html>